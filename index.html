<!DOCTYPE html>
<html lang="ja">

<head>
  <script>
    // Measure a view of product details. This example assumes the detail view occurs on pageload,<script>
    function addCart(quantity, totalPrice) {
      window.dataLayer = window.dataLayer || []
      dataLayer.push({ ecommerce: null });
      dataLayer.push({
        event: "purchase",
        ecommerce: {
          transaction_id: "12345", /*注文番号*/
          value: 10000, /*税込み注文金額*/
          tax: 100, /*消費税合計*/
          shipping: 2700, /*商品毎の送料の合計値←GA4で自動算出の為不要か確認が必要*/
          currency: "JPY",
          items: [
            {
            item_name: "佐賀の牛肉",
            item_id: "500000",
            location_id: "佐賀県", /*ストアに紐づく都道府県*/
            affiliation: "120101988", /*店舗コード*/
            price: 1602, /*金額は税込み*/
            item_brand: "音更ぎょうざの宝永【北海道お取り寄せ食堂】", /*店舗名*/
            item_category: "ブレッドクラム大カテ",
            item_category2: "ブレッドクラム中カテ",
            item_category3: "ブレッドクラム子カテ",
            item_category4: "ブレッドクラム孫カテ",
            item_variant: "S / white",
            quantity: 1, /*商品の数量*/
            metric: 1500, /*商品単位の送料*/
          },
          {
            item_name: "紅玉りんごのアップルパイ５個詰合せ＆アップルソーダ「アプリモ」【送料別】",
            item_id: "10086910",
            location_id: "青森県", /*ストアに紐づく都道府県*/
            affiliation: "134211988", /*店舗コード*/
            price: 3888, /*金額は税込み*/
            item_brand: "ヤマダファーム ～ すべての物語は、美味しい「りんご」作りから", /*店舗名*/
            item_category: "お取り寄せ グルメ",
            item_category2: "スイーツ / 洋菓子",
            item_category3: "パイ",
            item_category4: "ブレッドクラム孫カテ", /*データがない場合ブランク*/
            item_variant: "30個入",
            quantity: 1, /*商品の数量*/
            metric: 1250, /*商品単位の送料*/
          },
        ]
      }
      });

    console.log(`カートに${quantity}個の商品を追加しました。合計金額は¥${totalPrice}です。`);

    }
  </script>

<!-- Google Tag Manager -->
<!-- <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': -->
// new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
// j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
// 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
// })(window,document,'script','dataLayer','GTM-52HM38C');</script> -->
<!-- End Google Tag Manager
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KK25JNLX');</script>
<!-- End Google Tag Manager -->
  
  <meta charset="UTF-8">
  <title>サンプル商品ページ</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
 <!-- Google Tag Manager (noscript) -->
<!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-52HM38C"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
<!-- End Google Tag Manager (noscript) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KK25JNLX"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <header>
    <h1>サンプル商品ページ</h1>
  </header>
  <nav>
    <ul>
      <li><a href="/*">ホーム</a></li>
      <li><a href="/*">商品一覧</a></li>
      <li><a href="/*">お問い合わせ</a></li>
    </ul>
  </nav>
  <main>
    <section id="product-image">
      <img src="image.jpeg" alt="商品画像">
    </section>
    <section id="product-info">
      <h2>商品名</h2>
      <p>こちらはサンプルとなります。</p>
      <p>価格: ¥1,000</p>
      <form>
        <label for="quantity">数量:</label>
        <input type="number" id="quantity" name="quantity" min="1" max="10" value="1">
        <button type="submit" id="view-item">アイテムを表示</button>
        <button type="submit" id="add-to-cart">カートに追加</button>
        <button type="submit" id="purchase">購入</button>
      </form>
    </section>
  </main>
  <footer>
    <p>&copy; 2023 サンプル商品ページ</p>
  </footer>
  <script>
    const form = document.querySelector('form');
    const quantityInput = document.getElementById('quantity');
    const addToCartButton = document.getElementById('purchase');

    addToCartButton.addEventListener('click', function (event) {
      event.preventDefault();
      const quantity = Number(quantityInput.value);
      const price = 1000;
      const totalPrice = quantity * price;
      console.log(`カートに${quantity}個の商品を追加しました。合計金額は¥${totalPrice}です。`);
      // addCart(quantity, totalPrice);
      form.reset();
    });
  </script>
</body>

</html>
